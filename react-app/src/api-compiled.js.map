{"version":3,"sources":["api.js"],"names":[],"mappings":"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","file":"api-compiled.js","sourcesContent":["import React, {Component} from 'react';\nimport {\n  BrowserRouter as Router,\n  Route,\n  Link,\n  Redirect,\n  withRouter\n} from 'react-router-dom';\nimport axios from 'axios';\nimport * as modelActions from './actions';\n\n\nexport const makeRequest = (dispatcher, params, then, error) => {\n  axios(params).then((result) => {\n    if (then) then(result);\n  }).catch(r => {\n    if (error) error(r);\n  });\n};\n\n//Примерс параметрами\nexport const fetch = (dispatcher, options, then, error) => {\n  makeRequest(\n    dispatcher,\n    options,\n    r => {\n      if (then) then(r.data);\n    },\n    error\n  );\n};\n\n//Получить токен\nexport const setUserToken = dispatcher => {\n  const params = {\n    method:'post',\n    url:'/api/getUserToken',\n  };\n\n  const then = response => {\n    dispatcher(modelActions.setUserToken(response.data))\n  };\n\n  const error = (error) => {\n    console.log(error);\n  };\n\n  makeRequest(dispatcher, params, then, error);\n};\n\n//Выход, разлогиниться.\nexport const logOut = token => {\n  const params = {\n    method:'post',\n    url:'/logout',\n    data: token\n  };\n\n  const then = response => {\n    window.location.href = '/';\n  };\n\n  const error = (error) => {\n    console.log(\"error\", error);\n  };\n\n  makeRequest('', params, then, error);\n};\n\n//Получить все категории.\nexport const setCategories = dispatcher => {\n  const params = {\n    method:'post',\n    url:'/api/get-categories',\n  };\n\n  const then = response => {\n    dispatcher(modelActions.setCategories(response.data))\n  };\n\n  const error = (error) => {\n    console.log(error);\n  };\n\n  makeRequest(dispatcher, params, then, error);\n};\n\n//Получить продукты нужной категории.\nexport const setProducts = (dispatcher, productId) => {\n  const params = {\n    method:'post',\n    url:'/api/get-products/' + productId,\n  };\n\n  const then = response => {\n    dispatcher(modelActions.setProducts(response.data))\n  };\n\n  const error = (error) => {\n    console.log(error);\n  };\n\n  makeRequest(dispatcher, params, then, error);\n};\n\n//Добавить товар в корзину.\nexport const addProductToCart = (dispatcher, data) => {\n  const params = {\n    method:'post',\n    url:'/api/add-product-to-cart',\n    data: data\n  };\n\n  const then = response => {\n    console.log(\"FROM addProductToCart\", response.data);\n    dispatcher(modelActions.setProductsForCart(response.data))\n  };\n\n  const error = (error) => {\n    console.log(error);\n  };\n\n  makeRequest(dispatcher, params, then, error);\n};\n\n//Показать товар в корзине.\nexport const showProductsInCart = (dispatcher) => {\n  const params = {\n    method:'post',\n    url:'/api/get-products-in-cart'\n  };\n\n  const then = response => {\n    // console.log(response.data);\n    dispatcher(modelActions.setProductsForCart(response.data))\n  };\n\n  const error = (error) => {\n    console.log(error);\n  };\n\n  makeRequest(dispatcher, params, then, error);\n};\n\n//Показать товар в корзине.\nexport const deleteProductFromCart = (dispatcher, data) => {\n  const params = {\n    method:'post',\n    url:'/api/delete-product-from-cart',\n    data: data\n  };\n\n  const then = response => {\n    // console.log(response.data);\n    dispatcher(modelActions.setProductsForCart(response.data))\n  };\n\n  const error = (error) => {\n    console.log(error);\n  };\n\n  makeRequest(dispatcher, params, then, error);\n};"]}