{"version":3,"sources":["Cart.js"],"names":[],"mappings":"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","file":"Cart-compiled.js","sourcesContent":["import React, {Component} from 'react';\nimport {connect} from 'react-redux';\nimport Select from 'react-select';\nimport '../../theme/css/index.css';\nimport '../../theme/css/main.css';\nimport '../../theme/css/adaptive.css';\nimport Navigation from '../Navigation/Navigation';\nimport MenuMobile from '../Popups/MenuMobile';\nimport CartItem from '../Cart/CartItem';\nimport * as modelActions from '../../actions';\nimport { Map } from 'immutable';\nimport {\n  showProductsInCart,\n  showOrdersQuotaInCart,\n  showCurrentOrder,\n  sendOrder,\n  clearCart,\n  checkTimeQuota,\n} from '../../api';\nimport {isEmptyMap, isEmptyArray, scrollToElement} from '../../helpers';\nimport Footer from '../Navigation/Footer';\n\nclass Cart extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      comment: '',\n      time_quota: 0,\n      cart_error: '',\n      comment_count_error: '',\n      selectError: {\n        borderColor: ''\n      },\n    };\n\n  }\n\n  componentWillMount() {\n    const { dispatch } = this.props;\n    dispatch(modelActions.setLoaderStatus(true));\n    showProductsInCart(dispatch);\n    showOrdersQuotaInCart(dispatch);\n    showCurrentOrder(dispatch);\n  }\n\n  // componentWillReceiveProps(next) {\n  //   console.log(\"prodCount_1: \", next.session.get('productCounts'));\n  //   if (next.session.get('productCounts') === 0) {\n  //     console.log(\"prodCount_2: \", next.session.get('productCounts'));\n  //     const {dispatch, history} = this.props;\n  //     clearCart(dispatch, history);\n  //     next.history.push('/');\n  //   }\n  // }\n\n  componentWillUnmount() {\n    const { dispatch } = this.props;\n    const map = Map;\n    dispatch(modelActions.setCurrentOrder(map()));\n  }\n\n  handleChangeComment(event) {\n    const { currentOrder } = this.props;\n    const comment = isEmptyArray(currentOrder) && isEmptyArray(currentOrder['four']) && currentOrder['four'].comment ? currentOrder['four'].comment : '';\n    if (event.target.value.length < 1000) {\n      if (comment !== '' && event.target.value === '') {\n        this.setState({\n          comment: ' '\n        });\n      } else this.setState({comment: event.target.value});\n      this.setState({\n        comment_count_error: ''\n      });\n    } else {\n      this.setState({\n        comment_count_error: 'Максимальное количество символов 1000'\n      });\n    }\n  }\n\n  handleChangeTimeQuota(e) {\n    const {dispatch} = this.props;\n    dispatch(modelActions.setErrors(''));\n    this.setState({\n      cart_error: '',\n      selectError: {\n        borderColor: ''//#d9d9d9 #ccc #b3b3b3\n      },\n    });\n    this.setState({time_quota: e.value});\n  }\n\n  handlerSendOrder() {\n    const {dispatch, history, ordersQuota, currentOrder} = this.props;\n    if (ordersQuota.delivery && ordersQuota.delivery.status) {\n      const data = {\n        comment: this.state.comment,\n        time_quota: this.state.time_quota\n      };\n      if(isEmptyArray(currentOrder) && isEmptyArray(currentOrder['one'])) {\n        dispatch(modelActions.setOpenCloseModal({\n          show: true,\n          textHeader: 'У Вас уже есть один заказ в обработке.Перейти к заказу?',\n          textAlign: true,\n          function: () => {\n            const { history } = this.props;\n            history.push('/orders');\n          }\n        }));\n      } else {\n        if (this.state.time_quota !== 0) {\n          sendOrder(dispatch, data, history);\n          dispatch(modelActions.setModalLoaderCartSentStatus(true));\n          history.push('/sussess-page');\n        } else if (ordersQuota.ordersQuota && ordersQuota.ordersQuota.length === 0) {\n          sendOrder(dispatch, data, history);\n          dispatch(modelActions.setModalLoaderCartSentStatus(true));\n          history.push('/sussess-page');\n        } else {\n          scrollToElement('.scroll-to-error', 1500);\n          this.setState({\n            cart_error: 'Выберите удобный период получения заказа.',\n            selectError: {\n              borderColor: 'indianred'\n            }\n          });\n        }\n      }\n    } else {\n      dispatch(modelActions.setOpenCloseModal({\n        show: true,\n        textHeader: 'Дата доставки закрыта. Узнать подробнее?',\n        textAlign: true,\n        function: () => {\n          const { history } = this.props;\n          history.push('/orders');\n        }\n      }));\n    }\n  }\n\n  handlerClearCart() {\n    const { dispatch } = this.props;\n    dispatch(modelActions.setOpenCloseModal({\n      show: true,\n      textHeader: 'Удалить все товары из корзины?',\n      textAlign: true,\n      function: () => {\n        const {dispatch, history} = this.props;\n        dispatch(modelActions.setLoaderStatus(true));\n        clearCart(dispatch, history);\n      }\n    }));\n  }\n\n  render() {\n    const { ordersQuota, productsForCart, errorMessageCountQuota, currentOrder, session } = this.props;\n    // checkTimeQuota(dispatch, {time_quota: this.state.time_quota}); //TODO чекаем кол-во квот\n    // const check = api.get('checkTimeQuota');                       //TODO чекаем кол-во квот\n    var total = 0;\n\n    const productsTd = isEmptyMap(productsForCart) && productsForCart.map((item) =>\n        <CartItem\n          keyProductId={item.productId}\n          key={item.productId}\n          item={item}\n          history={this.props.history}\n        />\n      );\n\n    const userInfo = session.get('userInfo');\n    total = productsForCart.reduce((total, item) => {\n        return total + ((item.count === '' ? 1 : parseInt(item.count, 10)) * parseInt(item.price, 10));\n      }, 0\n    );\n\n    var timeQuotaOptions = [{value: 0, label: ''}];\n    var delivery = null;\n    ordersQuota.ordersQuota && ordersQuota.ordersQuota.length !== 0 && ordersQuota.ordersQuota.forEach(q => q.orders_quota_id !== 1 &&\n    timeQuotaOptions.push({value: q.orders_quota_id, label: q.time_quota}));\n\n    const quotaStyle = {\n      width: '100%',\n      display: 'flex',\n      // alignItems: 'center'\n    };\n\n    const comment = isEmptyArray(currentOrder) && isEmptyArray(currentOrder['four']) && currentOrder['four'].comment ? currentOrder['four'].comment : '';\n\n    var ordersQoutaDiv = <div className=\"quota-style\" style={quotaStyle}>\n      <label className=\"order-filds-label\" htmlFor=\"time_quota\">Я смогу забрать свой заказ в период с</label>\n      <div style={{width: '130px', marginLeft: '10px'}}>\n        <Select\n          name=\"time_quota\"\n          value={this.state.time_quota}\n          options={timeQuotaOptions}\n          onChange={this.handleChangeTimeQuota.bind(this)}\n          placeholder=''\n          clearable={false}\n          searchable={false}\n          style={this.state.selectError}\n        />\n      </div>\n    </div>;\n\n    var OrderNonQuota = <label className=\"order-filds-label\" htmlFor=\"time_quota\" style={{marginBottom: '15px'}}>\n      Заказ можно получить в любое удобное время в указанный день доставки.Периоды получения заказа закончились.\n    </label>;\n    return (\n      <div>\n        <div className=\"container\">\n          <Navigation />\n          <MenuMobile />\n          <div className=\"main-container\">\n            <div className=\"animation-page-load-medium cart-scroll-adaptive\">\n              <div className=\"flex-box-between\">\n                <h3>Корзина</h3>\n                <div style={{display: 'flex'}}>\n                  <div onClick={this.handlerClearCart.bind(this)} className=\"cart-button-clear\">Очистить корзину</div>\n                  <div onClick={this.handlerSendOrder.bind(this)} className=\"cart-button\">Отправить заказ</div>\n                </div>\n              </div>\n              {isEmptyArray(currentOrder) && isEmptyArray(currentOrder['four']) &&\n              <p className=\"personal-explain-text\">Изменение заказа № ST-{userInfo.emailHash}-{currentOrder['four'].order_id}</p>}\n              {isEmptyArray(currentOrder) && isEmptyArray(currentOrder['one']) &&\n              <p className=\"personal-explain-text cart-error-mobile\" style={{color: 'red'}}>У Вас уже есть заказ в обработке.</p>}\n              <table className=\"cart-products-table cart-products-table__cart\">\n                <thead>\n                <tr className=\"cart-tr-head\">\n                  <th className=\"table-30-procent\">Продукт</th>\n                  <th className=\"table-25-procent\">Цена</th>\n                  <th className=\"table-25-procent\">Количество</th>\n                  <th className=\"table-10-procent\">Стоимость</th>\n                  <th className=\"table-10-procent\"></th>\n                </tr>\n                </thead>\n                <tbody>\n                { productsTd }\n                </tbody>\n              </table>\n              <div className=\"cart-order__total cart_total\">Сумма:&nbsp;<span>{ total } Р</span></div>\n              <p className=\"order-filds-label\" style={{color: 'red', fontSize: '14px', margin: '0'}}>\n                {this.state.comment_count_error !== '' && this.state.comment_count_error}\n              </p>\n              <textarea\n                name=\"comment\"\n                className=\"cart-comment\"\n                value={this.state.comment === '' ? comment : this.state.comment}\n                onChange={this.handleChangeComment.bind(this)}\n                placeholder=\"Оставьте комментарий к заказу...\"\n              />\n              <p className=\"order-filds-label\" style={{fontWeight: '700'}}>Дата\n                доставки {ordersQuota.delivery ? ordersQuota.delivery.delivery_date : ''}</p>\n              {ordersQuota.ordersQuota && ordersQuota.ordersQuota.length !== 0 ? ordersQoutaDiv : OrderNonQuota}\n              <p className=\"order-filds-label scroll-to-error\"\n                     style={{color: 'red', fontSize: '14px', marginTop: '5px'}}>\n                {\n                  this.state.cart_error !== '' ? this.state.cart_error : errorMessageCountQuota\n                }\n              </p>\n              <div onClick={this.handlerSendOrder.bind(this)} className=\"cart-button\">Отправить заказ</div>\n            </div>\n          </div>\n        </div>\n        <Footer />\n      </div>\n    );\n  }\n}\n\nexport default connect(store => ({\n  dispatch: store.dispatch,\n  session: store.session,\n  api: store.api,\n  ordersQuota: store.api.get('ordersQuota'),\n  productsForCart: store.api.get('productsForCart'),\n  currentOrder: store.api.get('currentOrder'),\n  errorMessageCountQuota: store.session.get('errors').errorTime,\n}))(Cart);"]}